<!DOCTYPE html>
<html lang="bn">
  <head>
    <meta charset="UTF-8" />
    <title>ChatMate - Free Video & Audio Chat</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        margin: 0;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        background: #0f172a;
        color: #e5e7eb;
      }

      header {
        background: #111827;
        padding: 12px 16px;
        text-align: center;
        border-bottom: 1px solid #1f2937;
      }

      header h1 {
        margin: 0;
        font-size: 1.4rem;
        color: #38bdf8;
      }

      main {
        padding: 16px;
        max-width: 900px;
        margin: 0 auto;
      }

      .card {
        background: #111827;
        border-radius: 12px;
        padding: 16px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
        border: 1px solid #1f2937;
      }

      .label {
        font-size: 0.9rem;
        margin-bottom: 6px;
        color: #9ca3af;
      }

      .input-row {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
        margin-bottom: 12px;
      }

      input[type="text"] {
        flex: 1;
        min-width: 180px;
        padding: 10px 12px;
        border-radius: 999px;
        border: 1px solid #374151;
        background: #020617;
        color: #e5e7eb;
        outline: none;
      }

      input[type="text"]:focus {
        border-color: #38bdf8;
        box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.4);
      }

      button {
        padding: 10px 16px;
        border-radius: 999px;
        border: none;
        background: linear-gradient(135deg, #38bdf8, #6366f1);
        color: white;
        font-weight: 600;
        cursor: pointer;
        white-space: nowrap;
      }

      button:active {
        opacity: 0.8;
      }

      .hint {
        font-size: 0.8rem;
        color: #9ca3af;
      }

      .section-title {
        font-size: 1rem;
        margin: 16px 0 8px;
        font-weight: 600;
      }

      .instructions {
        font-size: 0.9rem;
        color: #d1d5db;
        line-height: 1.6;
      }

      iframe {
        width: 100%;
        height: 70vh;
        border: 0;
        border-radius: 12px;
        margin-top: 16px;
        background: #020617;
      }

      @media (max-width: 600px) {
        header h1 {
          font-size: 1.2rem;
        }

        iframe {
          height: 65vh;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <h1>ChatMate</h1>
    </header>

    <main>
      <div class="card">
        <div class="label">রুমের নাম লিখো (যেটা তুমি আর তোমার ফ্রেন্ড শেয়ার করবে)</div>
        <div class="input-row">
          <input
            type="text"
            id="roomName"
            placeholder="যেমন: friends-room"
            autocomplete="off"
          />
          <button id="startBtn">Start Call</button>
        </div>
        <div class="hint">
          ১) এই ওয়েবসাইটের লিংক আর রুমের নাম তোমার ফ্রেন্ডকে পাঠিয়ে দাও।<br />
          ২) তোমরা দুজনেই একই রুমের নাম লিখে ঢুকলেই ভিডিও/অডিও কল আর চ্যাট করতে পারবে।
        </div>

        <div class="section-title">কীভাবে ব্যবহার করবে?</div>
        <div class="instructions">
          ● উপর থেকে একটা রুমের নাম ঠিক করো (ইংরেজি অক্ষর, সংখ্যা, ড্যাশ ব্যবহার করো)।<br />
          ● <strong>Start Call</strong> এ চাপ দিলে নিচে ভিডিও কল উইন্ডো আসবে।<br />
          ● ওই উইন্ডোর ভেতরে তোমাকে নাম লিখতে বলবে – সেখানে তোমার নাম লিখো।<br />
          ● ডান পাশে বা উপরে একটা চ্যাট আইকন/বাটন থাকবে – ওটার মধ্যে লিখে চ্যাট করতে পারো।<br />
          ● তুমি চাইলে ক্যামেরা বন্ধ রেখে শুধুই অডিও + চ্যাটও ব্যবহার করতে পারো।
        </div>

        <iframe
          id="videoFrame"
          title="ChatMate Video Call"
          allow="camera; microphone; fullscreen; display-capture; autoplay"
          style="display: none"
        ></iframe>
      </div>
    </main>

    <script>
      function startCall() {
        const input = document.getElementById("roomName");
        let room = input.value.trim();

        if (!room) {
          alert("দয়া করে একটা রুমের নাম লিখো।");
          input.focus();
          return;
        }

        // স্পেসকে ড্যাশ বানিয়ে দিচ্ছি যেন URL সুন্দর হয়
        room = room.replace(/\s+/g, "-");

        const base = "https://meet.jit.si/";
        const roomName = "ChatMate-" + encodeURIComponent(room);

        const frame = document.getElementById("videoFrame");
        frame.src = base + roomName;
        frame.style.display = "block";
        frame.scrollIntoView({ behavior: "smooth" });
      }

      document
        .getElementById("startBtn")
        .addEventListener("click", startCall);

      // Enter চাপলেও কাজ করবে
      document
        .getElementById("roomName")
        .addEventListener("keyup", function (e) {
          if (e.key === "Enter") {
            startCall();
          }
        });
    </script>
  </body>
  </html>
